<?php
/* 
การตั้งค่า Deactivation Callback มักไม่จำเป็น

1. การตั้งค่า Deactivation Callback มักไม่จำเป็น เพราะสิ่งที่ควรทำเมื่อปิดใช้งานปลั๊กอิน ควรเกิดขึ้นตอนถอนการติดตั้งปลั๊กอินมากกว่า

2. การปิดใช้งานไม่ใช่เวลาที่เหมาะสมสำหรับการลบข้อมูลต่างๆ เช่น ตัวเลือกปลั๊กอิน, ตารางฐานข้อมูล, เนื้อหาของผู้ใช้ เพราะอาจทำให้ผู้ใช้สูญเสียข้อมูลสำคัญโดยไม่ตั้งใจ

3. WordPress และผู้ใช้อาจปิดใช้งานปลั๊กอินด้วยเหตุผลหลายอย่าง ซึ่งไม่ได้หมายความว่าต้องการลบข้อมูลทั้งหมด

4. ควรหลีกเลี่ยงการทำลายข้อมูลในขั้นตอนการปิดใช้งานปลั๊กอิน และควรทำเฉพาะเมื่อผู้ใช้ถอนการติดตั้งปลั๊กอินเท่านั้น

5. หากจำเป็นต้องใช้ Deactivation Callback ควรใช้ด้วยความระมัดระวังอย่างยิ่ง เพื่อป้องกันการสูญเสียข้อมูลของผู้ใช้


*/
/*
Plugin Name: ตัวอย่างปลั๊กอิน
Plugin URI: http://example.com/
Description: ปลั๊กอินตัวอย่างสำหรับการปิดใช้งาน
Version: 1.0
Author: ชื่อผู้พัฒนา
Author URI: http://example.com/
*/

// ฟังก์ชันที่ทำงานเมื่อปิดใช้งานปลั๊กอิน
function deactivate_example_plugin() {
    // ลบตัวเลือกของปลั๊กอิน (ไม่แนะนำ)
    // delete_option('example_plugin_settings');

    // ลบตารางฐานข้อมูลของปลั๊กอิน (ไม่แนะนำ)
    // global $wpdb;
    // $wpdb->query("DROP TABLE IF EXISTS {$wpdb->prefix}example_table");

    // ลบเนื้อหาของผู้ใช้ (ไม่แนะนำอย่างยิ่ง)
    // wp_delete_post($post_id, true);
}
register_deactivation_hook(__FILE__, 'deactivate_example_plugin');